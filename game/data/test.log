/*C7*/SET SCHEMA PUBLIC
INSERT INTO TUSUARIOS VALUES(1,'usuario1','pepe','usuario1')
COMMIT
INSERT INTO TUSUARIOS VALUES(2,'usuario2','maria','usuario2')
COMMIT
/*C8*/SET SCHEMA PUBLIC
alter table TPREGUNTAS_TRESPUESTAS drop constraint FK9C6BA79DF91EA6BD
alter table TPREGUNTAS_TRESPUESTAS drop constraint FK9C6BA79D6B7A9219
alter table TRANKING drop constraint FK7AFB114276E97130
alter table TRANKING_TPREGUNTAS drop constraint FKF67007F2C5A031C4
alter table TRANKING_TPREGUNTAS drop constraint FKF67007F2CA8D67E4
alter table TUSUARIOSPARTIDA drop constraint FKFF16403A76E97130
alter table TUSUARIOSPARTIDA drop constraint FKFF16403A2AB62F50
drop table TPARTIDA if exists
drop table TPREGUNTAS if exists
drop table TPREGUNTAS_TRESPUESTAS if exists
drop table TRANKING if exists
drop table TRANKING_TPREGUNTAS if exists
drop table TRESPUESTAS if exists
drop table TUSUARIOS if exists
drop table TUSUARIOSPARTIDA if exists
create table TPARTIDA (id bigint generated by default as identity (start with 1), puntuacion integer, primary key (id))
create table TPREGUNTAS (id bigint not null, categoria varchar(255), pregunta varchar(255), primary key (id))
create table TPREGUNTAS_TRESPUESTAS (TPREGUNTAS_id bigint not null, respuestas_id bigint not null, primary key (TPREGUNTAS_id, respuestas_id), unique (respuestas_id))
create table TRANKING (id bigint not null, PARTIDA_ID bigint, primary key (id))
create table TRANKING_TPREGUNTAS (TRANKING_id bigint not null, pregunta_id bigint not null, primary key (TRANKING_id, pregunta_id), unique (pregunta_id))
create table TRESPUESTAS (id bigint not null, correcta bit not null, respuesta varchar(255), primary key (id))
create table TUSUARIOS (id bigint generated by default as identity (start with 1), contrasenia varchar(255), nombre varchar(255), usuario varchar(255), primary key (id))
create table TUSUARIOSPARTIDA (partida_id bigint, usuario_id bigint, primary key (partida_id, usuario_id))
alter table TPREGUNTAS_TRESPUESTAS add constraint FK9C6BA79DF91EA6BD foreign key (respuestas_id) references TRESPUESTAS
alter table TPREGUNTAS_TRESPUESTAS add constraint FK9C6BA79D6B7A9219 foreign key (TPREGUNTAS_id) references TPREGUNTAS
alter table TRANKING add constraint FK7AFB114276E97130 foreign key (PARTIDA_ID) references TPARTIDA
alter table TRANKING_TPREGUNTAS add constraint FKF67007F2C5A031C4 foreign key (TRANKING_id) references TRANKING
alter table TRANKING_TPREGUNTAS add constraint FKF67007F2CA8D67E4 foreign key (pregunta_id) references TPREGUNTAS
alter table TUSUARIOSPARTIDA add constraint FKFF16403A76E97130 foreign key (partida_id) references TPARTIDA
alter table TUSUARIOSPARTIDA add constraint FKFF16403A2AB62F50 foreign key (usuario_id) references TUSUARIOS
DISCONNECT
/*C9*/SET SCHEMA PUBLIC
alter table TPREGUNTAS_TRESPUESTAS drop constraint FK9C6BA79DF91EA6BD
alter table TPREGUNTAS_TRESPUESTAS drop constraint FK9C6BA79D6B7A9219
alter table TRANKING drop constraint FK7AFB114276E97130
alter table TRANKING_TPREGUNTAS drop constraint FKF67007F2C5A031C4
alter table TRANKING_TPREGUNTAS drop constraint FKF67007F2CA8D67E4
alter table TUSUARIOSPARTIDA drop constraint FKFF16403A76E97130
alter table TUSUARIOSPARTIDA drop constraint FKFF16403A2AB62F50
drop table TPARTIDA if exists
drop table TPREGUNTAS if exists
drop table TPREGUNTAS_TRESPUESTAS if exists
drop table TRANKING if exists
drop table TRANKING_TPREGUNTAS if exists
drop table TRESPUESTAS if exists
drop table TUSUARIOS if exists
drop table TUSUARIOSPARTIDA if exists
create table TPARTIDA (id bigint generated by default as identity (start with 1), puntuacion integer, primary key (id))
create table TPREGUNTAS (id bigint not null, categoria varchar(255), pregunta varchar(255), primary key (id))
create table TPREGUNTAS_TRESPUESTAS (TPREGUNTAS_id bigint not null, respuestas_id bigint not null, primary key (TPREGUNTAS_id, respuestas_id), unique (respuestas_id))
create table TRANKING (id bigint not null, PARTIDA_ID bigint, primary key (id))
create table TRANKING_TPREGUNTAS (TRANKING_id bigint not null, pregunta_id bigint not null, primary key (TRANKING_id, pregunta_id), unique (pregunta_id))
create table TRESPUESTAS (id bigint not null, correcta bit not null, respuesta varchar(255), primary key (id))
create table TUSUARIOS (id bigint generated by default as identity (start with 1), contrasenia varchar(255), nombre varchar(255), usuario varchar(255), primary key (id))
create table TUSUARIOSPARTIDA (partida_id bigint, usuario_id bigint, primary key (partida_id, usuario_id))
alter table TPREGUNTAS_TRESPUESTAS add constraint FK9C6BA79DF91EA6BD foreign key (respuestas_id) references TRESPUESTAS
alter table TPREGUNTAS_TRESPUESTAS add constraint FK9C6BA79D6B7A9219 foreign key (TPREGUNTAS_id) references TPREGUNTAS
alter table TRANKING add constraint FK7AFB114276E97130 foreign key (PARTIDA_ID) references TPARTIDA
alter table TRANKING_TPREGUNTAS add constraint FKF67007F2C5A031C4 foreign key (TRANKING_id) references TRANKING
alter table TRANKING_TPREGUNTAS add constraint FKF67007F2CA8D67E4 foreign key (pregunta_id) references TPREGUNTAS
alter table TUSUARIOSPARTIDA add constraint FKFF16403A76E97130 foreign key (partida_id) references TPARTIDA
alter table TUSUARIOSPARTIDA add constraint FKFF16403A2AB62F50 foreign key (usuario_id) references TUSUARIOS
/*C10*/SET SCHEMA PUBLIC
alter table TPREGUNTAS_TRESPUESTAS drop constraint FK9C6BA79DF91EA6BD
alter table TPREGUNTAS_TRESPUESTAS drop constraint FK9C6BA79D6B7A9219
alter table TRANKING drop constraint FK7AFB114276E97130
alter table TRANKING_TPREGUNTAS drop constraint FKF67007F2C5A031C4
alter table TRANKING_TPREGUNTAS drop constraint FKF67007F2CA8D67E4
alter table TUSUARIOSPARTIDA drop constraint FKFF16403A76E97130
alter table TUSUARIOSPARTIDA drop constraint FKFF16403A2AB62F50
drop table TPARTIDA if exists
drop table TPREGUNTAS if exists
drop table TPREGUNTAS_TRESPUESTAS if exists
drop table TRANKING if exists
drop table TRANKING_TPREGUNTAS if exists
drop table TRESPUESTAS if exists
drop table TUSUARIOS if exists
drop table TUSUARIOSPARTIDA if exists
create table TPARTIDA (id bigint generated by default as identity (start with 1), puntuacion integer, primary key (id))
create table TPREGUNTAS (id bigint not null, categoria varchar(255), pregunta varchar(255), primary key (id))
create table TPREGUNTAS_TRESPUESTAS (TPREGUNTAS_id bigint not null, respuestas_id bigint not null, primary key (TPREGUNTAS_id, respuestas_id), unique (respuestas_id))
create table TRANKING (id bigint not null, PARTIDA_ID bigint, primary key (id))
create table TRANKING_TPREGUNTAS (TRANKING_id bigint not null, pregunta_id bigint not null, primary key (TRANKING_id, pregunta_id), unique (pregunta_id))
create table TRESPUESTAS (id bigint not null, correcta bit not null, respuesta varchar(255), primary key (id))
create table TUSUARIOS (id bigint generated by default as identity (start with 1), contrasenia varchar(255), nombre varchar(255), usuario varchar(255), primary key (id))
create table TUSUARIOSPARTIDA (partida_id bigint, usuario_id bigint, primary key (partida_id, usuario_id))
alter table TPREGUNTAS_TRESPUESTAS add constraint FK9C6BA79DF91EA6BD foreign key (respuestas_id) references TRESPUESTAS
alter table TPREGUNTAS_TRESPUESTAS add constraint FK9C6BA79D6B7A9219 foreign key (TPREGUNTAS_id) references TPREGUNTAS
alter table TRANKING add constraint FK7AFB114276E97130 foreign key (PARTIDA_ID) references TPARTIDA
alter table TRANKING_TPREGUNTAS add constraint FKF67007F2C5A031C4 foreign key (TRANKING_id) references TRANKING
alter table TRANKING_TPREGUNTAS add constraint FKF67007F2CA8D67E4 foreign key (pregunta_id) references TPREGUNTAS
alter table TUSUARIOSPARTIDA add constraint FKFF16403A76E97130 foreign key (partida_id) references TPARTIDA
alter table TUSUARIOSPARTIDA add constraint FKFF16403A2AB62F50 foreign key (usuario_id) references TUSUARIOS
DISCONNECT
/*C9*/DISCONNECT
/*C11*/SET SCHEMA PUBLIC
alter table TPREGUNTAS_TRESPUESTAS drop constraint FK9C6BA79DF91EA6BD
alter table TPREGUNTAS_TRESPUESTAS drop constraint FK9C6BA79D6B7A9219
alter table TRANKING drop constraint FK7AFB114276E97130
alter table TRANKING_TPREGUNTAS drop constraint FKF67007F2C5A031C4
alter table TRANKING_TPREGUNTAS drop constraint FKF67007F2CA8D67E4
alter table TUSUARIOSPARTIDA drop constraint FKFF16403A76E97130
alter table TUSUARIOSPARTIDA drop constraint FKFF16403A2AB62F50
drop table TPARTIDA if exists
drop table TPREGUNTAS if exists
drop table TPREGUNTAS_TRESPUESTAS if exists
drop table TRANKING if exists
drop table TRANKING_TPREGUNTAS if exists
drop table TRESPUESTAS if exists
drop table TUSUARIOS if exists
drop table TUSUARIOSPARTIDA if exists
create table TPARTIDA (id bigint generated by default as identity (start with 1), puntuacion integer, primary key (id))
create table TPREGUNTAS (id bigint not null, categoria varchar(255), pregunta varchar(255), primary key (id))
create table TPREGUNTAS_TRESPUESTAS (TPREGUNTAS_id bigint not null, respuestas_id bigint not null, primary key (TPREGUNTAS_id, respuestas_id), unique (respuestas_id))
create table TRANKING (id bigint not null, PARTIDA_ID bigint, primary key (id))
create table TRANKING_TPREGUNTAS (TRANKING_id bigint not null, pregunta_id bigint not null, primary key (TRANKING_id, pregunta_id), unique (pregunta_id))
create table TRESPUESTAS (id bigint not null, correcta bit not null, respuesta varchar(255), primary key (id))
create table TUSUARIOS (id bigint generated by default as identity (start with 1), contrasenia varchar(255), nombre varchar(255), usuario varchar(255), primary key (id))
create table TUSUARIOSPARTIDA (partida_id bigint, usuario_id bigint, primary key (partida_id, usuario_id))
alter table TPREGUNTAS_TRESPUESTAS add constraint FK9C6BA79DF91EA6BD foreign key (respuestas_id) references TRESPUESTAS
alter table TPREGUNTAS_TRESPUESTAS add constraint FK9C6BA79D6B7A9219 foreign key (TPREGUNTAS_id) references TPREGUNTAS
alter table TRANKING add constraint FK7AFB114276E97130 foreign key (PARTIDA_ID) references TPARTIDA
alter table TRANKING_TPREGUNTAS add constraint FKF67007F2C5A031C4 foreign key (TRANKING_id) references TRANKING
alter table TRANKING_TPREGUNTAS add constraint FKF67007F2CA8D67E4 foreign key (pregunta_id) references TPREGUNTAS
alter table TUSUARIOSPARTIDA add constraint FKFF16403A76E97130 foreign key (partida_id) references TPARTIDA
alter table TUSUARIOSPARTIDA add constraint FKFF16403A2AB62F50 foreign key (usuario_id) references TUSUARIOS
DISCONNECT
/*C12*/SET SCHEMA PUBLIC
alter table TPREGUNTAS_TRESPUESTAS drop constraint FK9C6BA79DF91EA6BD
alter table TPREGUNTAS_TRESPUESTAS drop constraint FK9C6BA79D6B7A9219
alter table TRANKING drop constraint FK7AFB114276E97130
alter table TRANKING_TPREGUNTAS drop constraint FKF67007F2C5A031C4
alter table TRANKING_TPREGUNTAS drop constraint FKF67007F2CA8D67E4
alter table TUSUARIOSPARTIDA drop constraint FKFF16403A76E97130
alter table TUSUARIOSPARTIDA drop constraint FKFF16403A2AB62F50
drop table TPARTIDA if exists
drop table TPREGUNTAS if exists
drop table TPREGUNTAS_TRESPUESTAS if exists
drop table TRANKING if exists
drop table TRANKING_TPREGUNTAS if exists
drop table TRESPUESTAS if exists
drop table TUSUARIOS if exists
drop table TUSUARIOSPARTIDA if exists
create table TPARTIDA (id bigint generated by default as identity (start with 1), puntuacion integer, primary key (id))
create table TPREGUNTAS (id bigint not null, categoria varchar(255), pregunta varchar(255), primary key (id))
create table TPREGUNTAS_TRESPUESTAS (TPREGUNTAS_id bigint not null, respuestas_id bigint not null, primary key (TPREGUNTAS_id, respuestas_id), unique (respuestas_id))
create table TRANKING (id bigint not null, PARTIDA_ID bigint, primary key (id))
create table TRANKING_TPREGUNTAS (TRANKING_id bigint not null, pregunta_id bigint not null, primary key (TRANKING_id, pregunta_id), unique (pregunta_id))
create table TRESPUESTAS (id bigint not null, correcta bit not null, respuesta varchar(255), primary key (id))
create table TUSUARIOS (id bigint generated by default as identity (start with 1), contrasenia varchar(255), nombre varchar(255), usuario varchar(255), primary key (id))
create table TUSUARIOSPARTIDA (partida_id bigint, usuario_id bigint, primary key (partida_id, usuario_id))
alter table TPREGUNTAS_TRESPUESTAS add constraint FK9C6BA79DF91EA6BD foreign key (respuestas_id) references TRESPUESTAS
alter table TPREGUNTAS_TRESPUESTAS add constraint FK9C6BA79D6B7A9219 foreign key (TPREGUNTAS_id) references TPREGUNTAS
alter table TRANKING add constraint FK7AFB114276E97130 foreign key (PARTIDA_ID) references TPARTIDA
alter table TRANKING_TPREGUNTAS add constraint FKF67007F2C5A031C4 foreign key (TRANKING_id) references TRANKING
alter table TRANKING_TPREGUNTAS add constraint FKF67007F2CA8D67E4 foreign key (pregunta_id) references TPREGUNTAS
alter table TUSUARIOSPARTIDA add constraint FKFF16403A76E97130 foreign key (partida_id) references TPARTIDA
alter table TUSUARIOSPARTIDA add constraint FKFF16403A2AB62F50 foreign key (usuario_id) references TUSUARIOS
DISCONNECT
/*C7*/INSERT INTO TUSUARIOS VALUES(1,'usuario1','pepe','usuario1')
COMMIT
INSERT INTO TUSUARIOS VALUES(2,'usuario2','maria','usuario2')
COMMIT
/*C13*/SET SCHEMA PUBLIC
alter table TPREGUNTAS_TRESPUESTAS drop constraint FK9C6BA79DF91EA6BD
alter table TPREGUNTAS_TRESPUESTAS drop constraint FK9C6BA79D6B7A9219
alter table TRANKING drop constraint FK7AFB114276E97130
alter table TRANKING_TPREGUNTAS drop constraint FKF67007F2C5A031C4
alter table TRANKING_TPREGUNTAS drop constraint FKF67007F2CA8D67E4
alter table TUSUARIOSPARTIDA drop constraint FKFF16403A76E97130
alter table TUSUARIOSPARTIDA drop constraint FKFF16403A2AB62F50
drop table TPARTIDA if exists
drop table TPREGUNTAS if exists
drop table TPREGUNTAS_TRESPUESTAS if exists
drop table TRANKING if exists
drop table TRANKING_TPREGUNTAS if exists
drop table TRESPUESTAS if exists
drop table TUSUARIOS if exists
drop table TUSUARIOSPARTIDA if exists
create table TPARTIDA (id bigint generated by default as identity (start with 1), puntuacion integer, primary key (id))
create table TPREGUNTAS (id bigint not null, categoria varchar(255), pregunta varchar(255), primary key (id))
create table TPREGUNTAS_TRESPUESTAS (TPREGUNTAS_id bigint not null, respuestas_id bigint not null, primary key (TPREGUNTAS_id, respuestas_id), unique (respuestas_id))
create table TRANKING (id bigint not null, PARTIDA_ID bigint, primary key (id))
create table TRANKING_TPREGUNTAS (TRANKING_id bigint not null, pregunta_id bigint not null, primary key (TRANKING_id, pregunta_id), unique (pregunta_id))
create table TRESPUESTAS (id bigint not null, correcta bit not null, respuesta varchar(255), primary key (id))
create table TUSUARIOS (id bigint generated by default as identity (start with 1), contrasenia varchar(255), nombre varchar(255), usuario varchar(255), primary key (id))
create table TUSUARIOSPARTIDA (partida_id bigint, usuario_id bigint, primary key (partida_id, usuario_id))
alter table TPREGUNTAS_TRESPUESTAS add constraint FK9C6BA79DF91EA6BD foreign key (respuestas_id) references TRESPUESTAS
alter table TPREGUNTAS_TRESPUESTAS add constraint FK9C6BA79D6B7A9219 foreign key (TPREGUNTAS_id) references TPREGUNTAS
alter table TRANKING add constraint FK7AFB114276E97130 foreign key (PARTIDA_ID) references TPARTIDA
alter table TRANKING_TPREGUNTAS add constraint FKF67007F2C5A031C4 foreign key (TRANKING_id) references TRANKING
alter table TRANKING_TPREGUNTAS add constraint FKF67007F2CA8D67E4 foreign key (pregunta_id) references TPREGUNTAS
alter table TUSUARIOSPARTIDA add constraint FKFF16403A76E97130 foreign key (partida_id) references TPARTIDA
alter table TUSUARIOSPARTIDA add constraint FKFF16403A2AB62F50 foreign key (usuario_id) references TUSUARIOS
/*C7*/INSERT INTO TUSUARIOS VALUES(1,'usuario1','pepe','usuario1')
COMMIT
INSERT INTO TUSUARIOS VALUES(2,'usuario2','maria','usuario2')
COMMIT
/*C14*/SET SCHEMA PUBLIC
alter table TPREGUNTAS_TRESPUESTAS drop constraint FK9C6BA79DF91EA6BD
alter table TPREGUNTAS_TRESPUESTAS drop constraint FK9C6BA79D6B7A9219
alter table TRANKING drop constraint FK7AFB114276E97130
alter table TRANKING_TPREGUNTAS drop constraint FKF67007F2C5A031C4
alter table TRANKING_TPREGUNTAS drop constraint FKF67007F2CA8D67E4
alter table TUSUARIOSPARTIDA drop constraint FKFF16403A76E97130
alter table TUSUARIOSPARTIDA drop constraint FKFF16403A2AB62F50
drop table TPARTIDA if exists
drop table TPREGUNTAS if exists
drop table TPREGUNTAS_TRESPUESTAS if exists
drop table TRANKING if exists
drop table TRANKING_TPREGUNTAS if exists
drop table TRESPUESTAS if exists
drop table TUSUARIOS if exists
drop table TUSUARIOSPARTIDA if exists
create table TPARTIDA (id bigint generated by default as identity (start with 1), puntuacion integer, primary key (id))
create table TPREGUNTAS (id bigint not null, categoria varchar(255), pregunta varchar(255), primary key (id))
create table TPREGUNTAS_TRESPUESTAS (TPREGUNTAS_id bigint not null, respuestas_id bigint not null, primary key (TPREGUNTAS_id, respuestas_id), unique (respuestas_id))
create table TRANKING (id bigint not null, PARTIDA_ID bigint, primary key (id))
create table TRANKING_TPREGUNTAS (TRANKING_id bigint not null, pregunta_id bigint not null, primary key (TRANKING_id, pregunta_id), unique (pregunta_id))
create table TRESPUESTAS (id bigint not null, correcta bit not null, respuesta varchar(255), primary key (id))
create table TUSUARIOS (id bigint generated by default as identity (start with 1), contrasenia varchar(255), nombre varchar(255), usuario varchar(255), primary key (id))
create table TUSUARIOSPARTIDA (partida_id bigint, usuario_id bigint, primary key (partida_id, usuario_id))
alter table TPREGUNTAS_TRESPUESTAS add constraint FK9C6BA79DF91EA6BD foreign key (respuestas_id) references TRESPUESTAS
alter table TPREGUNTAS_TRESPUESTAS add constraint FK9C6BA79D6B7A9219 foreign key (TPREGUNTAS_id) references TPREGUNTAS
alter table TRANKING add constraint FK7AFB114276E97130 foreign key (PARTIDA_ID) references TPARTIDA
alter table TRANKING_TPREGUNTAS add constraint FKF67007F2C5A031C4 foreign key (TRANKING_id) references TRANKING
alter table TRANKING_TPREGUNTAS add constraint FKF67007F2CA8D67E4 foreign key (pregunta_id) references TPREGUNTAS
alter table TUSUARIOSPARTIDA add constraint FKFF16403A76E97130 foreign key (partida_id) references TPARTIDA
alter table TUSUARIOSPARTIDA add constraint FKFF16403A2AB62F50 foreign key (usuario_id) references TUSUARIOS
/*C7*/INSERT INTO TUSUARIOS VALUES(1,'usuario1','pepe','usuario1')
COMMIT
INSERT INTO TUSUARIOS VALUES(2,'usuario2','maria','usuario2')
COMMIT
/*C14*/DISCONNECT
/*C13*/DISCONNECT
/*C15*/SET SCHEMA PUBLIC
alter table TPREGUNTAS_TRESPUESTAS drop constraint FK9C6BA79DF91EA6BD
alter table TPREGUNTAS_TRESPUESTAS drop constraint FK9C6BA79D6B7A9219
alter table TRANKING drop constraint FK7AFB114276E97130
alter table TRANKING_TPREGUNTAS drop constraint FKF67007F2C5A031C4
alter table TRANKING_TPREGUNTAS drop constraint FKF67007F2CA8D67E4
alter table TUSUARIOSPARTIDA drop constraint FKFF16403A76E97130
alter table TUSUARIOSPARTIDA drop constraint FKFF16403A2AB62F50
drop table TPARTIDA if exists
drop table TPREGUNTAS if exists
drop table TPREGUNTAS_TRESPUESTAS if exists
drop table TRANKING if exists
drop table TRANKING_TPREGUNTAS if exists
drop table TRESPUESTAS if exists
drop table TUSUARIOS if exists
drop table TUSUARIOSPARTIDA if exists
create table TPARTIDA (id bigint generated by default as identity (start with 1), puntuacion integer, primary key (id))
create table TPREGUNTAS (id bigint not null, categoria varchar(255), pregunta varchar(255), primary key (id))
create table TPREGUNTAS_TRESPUESTAS (TPREGUNTAS_id bigint not null, respuestas_id bigint not null, primary key (TPREGUNTAS_id, respuestas_id), unique (respuestas_id))
create table TRANKING (id bigint not null, PARTIDA_ID bigint, primary key (id))
create table TRANKING_TPREGUNTAS (TRANKING_id bigint not null, pregunta_id bigint not null, primary key (TRANKING_id, pregunta_id), unique (pregunta_id))
create table TRESPUESTAS (id bigint not null, correcta bit not null, respuesta varchar(255), primary key (id))
create table TUSUARIOS (id bigint generated by default as identity (start with 1), contrasenia varchar(255), nombre varchar(255), usuario varchar(255), primary key (id))
create table TUSUARIOSPARTIDA (partida_id bigint, usuario_id bigint, primary key (partida_id, usuario_id))
alter table TPREGUNTAS_TRESPUESTAS add constraint FK9C6BA79DF91EA6BD foreign key (respuestas_id) references TRESPUESTAS
alter table TPREGUNTAS_TRESPUESTAS add constraint FK9C6BA79D6B7A9219 foreign key (TPREGUNTAS_id) references TPREGUNTAS
alter table TRANKING add constraint FK7AFB114276E97130 foreign key (PARTIDA_ID) references TPARTIDA
alter table TRANKING_TPREGUNTAS add constraint FKF67007F2C5A031C4 foreign key (TRANKING_id) references TRANKING
alter table TRANKING_TPREGUNTAS add constraint FKF67007F2CA8D67E4 foreign key (pregunta_id) references TPREGUNTAS
alter table TUSUARIOSPARTIDA add constraint FKFF16403A76E97130 foreign key (partida_id) references TPARTIDA
alter table TUSUARIOSPARTIDA add constraint FKFF16403A2AB62F50 foreign key (usuario_id) references TUSUARIOS
DISCONNECT
/*C7*/INSERT INTO TUSUARIOS VALUES(1,'usuario1','pepe','usuario1')
COMMIT
INSERT INTO TUSUARIOS VALUES(2,'usuario2','maria','usuario2')
COMMIT
/*C16*/SET SCHEMA PUBLIC
alter table TPREGUNTAS_TRESPUESTAS drop constraint FK9C6BA79DF91EA6BD
alter table TPREGUNTAS_TRESPUESTAS drop constraint FK9C6BA79D6B7A9219
alter table TRANKING drop constraint FK7AFB114276E97130
alter table TRANKING_TPREGUNTAS drop constraint FKF67007F2C5A031C4
alter table TRANKING_TPREGUNTAS drop constraint FKF67007F2CA8D67E4
alter table TUSUARIOSPARTIDA drop constraint FKFF16403A76E97130
alter table TUSUARIOSPARTIDA drop constraint FKFF16403A2AB62F50
drop table TPARTIDA if exists
drop table TPREGUNTAS if exists
drop table TPREGUNTAS_TRESPUESTAS if exists
drop table TRANKING if exists
drop table TRANKING_TPREGUNTAS if exists
drop table TRESPUESTAS if exists
drop table TUSUARIOS if exists
drop table TUSUARIOSPARTIDA if exists
create table TPARTIDA (id bigint generated by default as identity (start with 1), puntuacion integer, primary key (id))
create table TPREGUNTAS (id bigint not null, categoria varchar(255), pregunta varchar(255), primary key (id))
create table TPREGUNTAS_TRESPUESTAS (TPREGUNTAS_id bigint not null, respuestas_id bigint not null, primary key (TPREGUNTAS_id, respuestas_id), unique (respuestas_id))
create table TRANKING (id bigint not null, PARTIDA_ID bigint, primary key (id))
create table TRANKING_TPREGUNTAS (TRANKING_id bigint not null, pregunta_id bigint not null, primary key (TRANKING_id, pregunta_id), unique (pregunta_id))
create table TRESPUESTAS (id bigint not null, correcta bit not null, respuesta varchar(255), primary key (id))
create table TUSUARIOS (id bigint generated by default as identity (start with 1), contrasenia varchar(255), nombre varchar(255), usuario varchar(255), primary key (id))
create table TUSUARIOSPARTIDA (partida_id bigint, usuario_id bigint, primary key (partida_id, usuario_id))
alter table TPREGUNTAS_TRESPUESTAS add constraint FK9C6BA79DF91EA6BD foreign key (respuestas_id) references TRESPUESTAS
alter table TPREGUNTAS_TRESPUESTAS add constraint FK9C6BA79D6B7A9219 foreign key (TPREGUNTAS_id) references TPREGUNTAS
alter table TRANKING add constraint FK7AFB114276E97130 foreign key (PARTIDA_ID) references TPARTIDA
alter table TRANKING_TPREGUNTAS add constraint FKF67007F2C5A031C4 foreign key (TRANKING_id) references TRANKING
alter table TRANKING_TPREGUNTAS add constraint FKF67007F2CA8D67E4 foreign key (pregunta_id) references TPREGUNTAS
alter table TUSUARIOSPARTIDA add constraint FKFF16403A76E97130 foreign key (partida_id) references TPARTIDA
alter table TUSUARIOSPARTIDA add constraint FKFF16403A2AB62F50 foreign key (usuario_id) references TUSUARIOS
/*C7*/INSERT INTO TUSUARIOS VALUES(1,'usuario1','pepe','usuario1')
COMMIT
INSERT INTO TUSUARIOS VALUES(2,'usuario2','maria','usuario2')
COMMIT
/*C16*/DISCONNECT
/*C17*/SET SCHEMA PUBLIC
alter table TPREGUNTAS_TRESPUESTAS drop constraint FK9C6BA79DF91EA6BD
alter table TPREGUNTAS_TRESPUESTAS drop constraint FK9C6BA79D6B7A9219
alter table TRANKING drop constraint FK7AFB114276E97130
alter table TRANKING_TPREGUNTAS drop constraint FKF67007F2C5A031C4
alter table TRANKING_TPREGUNTAS drop constraint FKF67007F2CA8D67E4
alter table TUSUARIOSPARTIDA drop constraint FKFF16403A76E97130
alter table TUSUARIOSPARTIDA drop constraint FKFF16403A2AB62F50
drop table TPARTIDA if exists
drop table TPREGUNTAS if exists
drop table TPREGUNTAS_TRESPUESTAS if exists
drop table TRANKING if exists
drop table TRANKING_TPREGUNTAS if exists
drop table TRESPUESTAS if exists
drop table TUSUARIOS if exists
drop table TUSUARIOSPARTIDA if exists
create table TPARTIDA (id bigint generated by default as identity (start with 1), puntuacion integer, primary key (id))
create table TPREGUNTAS (id bigint not null, categoria varchar(255), pregunta varchar(255), primary key (id))
create table TPREGUNTAS_TRESPUESTAS (TPREGUNTAS_id bigint not null, respuestas_id bigint not null, primary key (TPREGUNTAS_id, respuestas_id), unique (respuestas_id))
create table TRANKING (id bigint not null, PARTIDA_ID bigint, primary key (id))
create table TRANKING_TPREGUNTAS (TRANKING_id bigint not null, pregunta_id bigint not null, primary key (TRANKING_id, pregunta_id), unique (pregunta_id))
create table TRESPUESTAS (id bigint not null, correcta bit not null, respuesta varchar(255), primary key (id))
create table TUSUARIOS (id bigint generated by default as identity (start with 1), contrasenia varchar(255), nombre varchar(255), usuario varchar(255), primary key (id))
create table TUSUARIOSPARTIDA (partida_id bigint, usuario_id bigint, primary key (partida_id, usuario_id))
alter table TPREGUNTAS_TRESPUESTAS add constraint FK9C6BA79DF91EA6BD foreign key (respuestas_id) references TRESPUESTAS
alter table TPREGUNTAS_TRESPUESTAS add constraint FK9C6BA79D6B7A9219 foreign key (TPREGUNTAS_id) references TPREGUNTAS
alter table TRANKING add constraint FK7AFB114276E97130 foreign key (PARTIDA_ID) references TPARTIDA
alter table TRANKING_TPREGUNTAS add constraint FKF67007F2C5A031C4 foreign key (TRANKING_id) references TRANKING
alter table TRANKING_TPREGUNTAS add constraint FKF67007F2CA8D67E4 foreign key (pregunta_id) references TPREGUNTAS
alter table TUSUARIOSPARTIDA add constraint FKFF16403A76E97130 foreign key (partida_id) references TPARTIDA
alter table TUSUARIOSPARTIDA add constraint FKFF16403A2AB62F50 foreign key (usuario_id) references TUSUARIOS
DISCONNECT
/*C7*/INSERT INTO TUSUARIOS VALUES(1,'usuario1','pepe','usuario1')
COMMIT
INSERT INTO TUSUARIOS VALUES(2,'usuario2','maria','usuario2')
COMMIT
/*C18*/SET SCHEMA PUBLIC
alter table TPREGUNTAS_TRESPUESTAS drop constraint FK9C6BA79DF91EA6BD
alter table TPREGUNTAS_TRESPUESTAS drop constraint FK9C6BA79D6B7A9219
alter table TRANKING drop constraint FK7AFB114276E97130
alter table TRANKING_TPREGUNTAS drop constraint FKF67007F2C5A031C4
alter table TRANKING_TPREGUNTAS drop constraint FKF67007F2CA8D67E4
alter table TUSUARIOSPARTIDA drop constraint FKFF16403A76E97130
alter table TUSUARIOSPARTIDA drop constraint FKFF16403A2AB62F50
drop table TPARTIDA if exists
drop table TPREGUNTAS if exists
drop table TPREGUNTAS_TRESPUESTAS if exists
drop table TRANKING if exists
drop table TRANKING_TPREGUNTAS if exists
drop table TRESPUESTAS if exists
drop table TUSUARIOS if exists
drop table TUSUARIOSPARTIDA if exists
create table TPARTIDA (id bigint generated by default as identity (start with 1), puntuacion integer, primary key (id))
create table TPREGUNTAS (id bigint not null, categoria varchar(255), pregunta varchar(255), primary key (id))
create table TPREGUNTAS_TRESPUESTAS (TPREGUNTAS_id bigint not null, respuestas_id bigint not null, primary key (TPREGUNTAS_id, respuestas_id), unique (respuestas_id))
create table TRANKING (id bigint not null, PARTIDA_ID bigint, primary key (id))
create table TRANKING_TPREGUNTAS (TRANKING_id bigint not null, pregunta_id bigint not null, primary key (TRANKING_id, pregunta_id), unique (pregunta_id))
create table TRESPUESTAS (id bigint not null, correcta bit not null, respuesta varchar(255), primary key (id))
create table TUSUARIOS (id bigint generated by default as identity (start with 1), contrasenia varchar(255), nombre varchar(255), usuario varchar(255), primary key (id))
create table TUSUARIOSPARTIDA (partida_id bigint, usuario_id bigint, primary key (partida_id, usuario_id))
alter table TPREGUNTAS_TRESPUESTAS add constraint FK9C6BA79DF91EA6BD foreign key (respuestas_id) references TRESPUESTAS
alter table TPREGUNTAS_TRESPUESTAS add constraint FK9C6BA79D6B7A9219 foreign key (TPREGUNTAS_id) references TPREGUNTAS
alter table TRANKING add constraint FK7AFB114276E97130 foreign key (PARTIDA_ID) references TPARTIDA
alter table TRANKING_TPREGUNTAS add constraint FKF67007F2C5A031C4 foreign key (TRANKING_id) references TRANKING
alter table TRANKING_TPREGUNTAS add constraint FKF67007F2CA8D67E4 foreign key (pregunta_id) references TPREGUNTAS
alter table TUSUARIOSPARTIDA add constraint FKFF16403A76E97130 foreign key (partida_id) references TPARTIDA
alter table TUSUARIOSPARTIDA add constraint FKFF16403A2AB62F50 foreign key (usuario_id) references TUSUARIOS
/*C7*/INSERT INTO TUSUARIOS VALUES(1,'usuario1','pepe','usuario1')
COMMIT
INSERT INTO TUSUARIOS VALUES(2,'usuario2','maria','usuario2')
COMMIT
/*C18*/DISCONNECT
/*C19*/SET SCHEMA PUBLIC
alter table TPREGUNTAS_TRESPUESTAS drop constraint FK9C6BA79DF91EA6BD
alter table TPREGUNTAS_TRESPUESTAS drop constraint FK9C6BA79D6B7A9219
alter table TRANKING drop constraint FK7AFB114276E97130
alter table TRANKING_TPREGUNTAS drop constraint FKF67007F2C5A031C4
alter table TRANKING_TPREGUNTAS drop constraint FKF67007F2CA8D67E4
alter table TUSUARIOSPARTIDA drop constraint FKFF16403A76E97130
alter table TUSUARIOSPARTIDA drop constraint FKFF16403A2AB62F50
drop table TPARTIDA if exists
drop table TPREGUNTAS if exists
drop table TPREGUNTAS_TRESPUESTAS if exists
drop table TRANKING if exists
drop table TRANKING_TPREGUNTAS if exists
drop table TRESPUESTAS if exists
drop table TUSUARIOS if exists
drop table TUSUARIOSPARTIDA if exists
create table TPARTIDA (id bigint generated by default as identity (start with 1), puntuacion integer, primary key (id))
create table TPREGUNTAS (id bigint not null, categoria varchar(255), pregunta varchar(255), primary key (id))
create table TPREGUNTAS_TRESPUESTAS (TPREGUNTAS_id bigint not null, respuestas_id bigint not null, primary key (TPREGUNTAS_id, respuestas_id), unique (respuestas_id))
create table TRANKING (id bigint not null, PARTIDA_ID bigint, primary key (id))
create table TRANKING_TPREGUNTAS (TRANKING_id bigint not null, pregunta_id bigint not null, primary key (TRANKING_id, pregunta_id), unique (pregunta_id))
create table TRESPUESTAS (id bigint not null, correcta bit not null, respuesta varchar(255), primary key (id))
create table TUSUARIOS (id bigint generated by default as identity (start with 1), contrasenia varchar(255), nombre varchar(255), usuario varchar(255), primary key (id))
create table TUSUARIOSPARTIDA (partida_id bigint, usuario_id bigint, primary key (partida_id, usuario_id))
alter table TPREGUNTAS_TRESPUESTAS add constraint FK9C6BA79DF91EA6BD foreign key (respuestas_id) references TRESPUESTAS
alter table TPREGUNTAS_TRESPUESTAS add constraint FK9C6BA79D6B7A9219 foreign key (TPREGUNTAS_id) references TPREGUNTAS
alter table TRANKING add constraint FK7AFB114276E97130 foreign key (PARTIDA_ID) references TPARTIDA
alter table TRANKING_TPREGUNTAS add constraint FKF67007F2C5A031C4 foreign key (TRANKING_id) references TRANKING
alter table TRANKING_TPREGUNTAS add constraint FKF67007F2CA8D67E4 foreign key (pregunta_id) references TPREGUNTAS
alter table TUSUARIOSPARTIDA add constraint FKFF16403A76E97130 foreign key (partida_id) references TPARTIDA
alter table TUSUARIOSPARTIDA add constraint FKFF16403A2AB62F50 foreign key (usuario_id) references TUSUARIOS
/*C7*/INSERT INTO TUSUARIOS VALUES(1,'usuario1','pepe','usuario1')
COMMIT
INSERT INTO TUSUARIOS VALUES(2,'usuario2','maria','usuario2')
COMMIT
/*C19*/DISCONNECT
/*C20*/SET SCHEMA PUBLIC
alter table TPREGUNTAS_TRESPUESTAS drop constraint FK9C6BA79DF91EA6BD
alter table TPREGUNTAS_TRESPUESTAS drop constraint FK9C6BA79D6B7A9219
alter table TRANKING drop constraint FK7AFB114276E97130
alter table TRANKING_TPREGUNTAS drop constraint FKF67007F2C5A031C4
alter table TRANKING_TPREGUNTAS drop constraint FKF67007F2CA8D67E4
alter table TUSUARIOSPARTIDA drop constraint FKFF16403A76E97130
alter table TUSUARIOSPARTIDA drop constraint FKFF16403A2AB62F50
drop table TPARTIDA if exists
drop table TPREGUNTAS if exists
drop table TPREGUNTAS_TRESPUESTAS if exists
drop table TRANKING if exists
drop table TRANKING_TPREGUNTAS if exists
drop table TRESPUESTAS if exists
drop table TUSUARIOS if exists
drop table TUSUARIOSPARTIDA if exists
create table TPARTIDA (id bigint generated by default as identity (start with 1), puntuacion integer, primary key (id))
create table TPREGUNTAS (id bigint not null, categoria varchar(255), pregunta varchar(255), primary key (id))
create table TPREGUNTAS_TRESPUESTAS (TPREGUNTAS_id bigint not null, respuestas_id bigint not null, primary key (TPREGUNTAS_id, respuestas_id), unique (respuestas_id))
create table TRANKING (id bigint not null, PARTIDA_ID bigint, primary key (id))
create table TRANKING_TPREGUNTAS (TRANKING_id bigint not null, pregunta_id bigint not null, primary key (TRANKING_id, pregunta_id), unique (pregunta_id))
create table TRESPUESTAS (id bigint not null, correcta bit not null, respuesta varchar(255), primary key (id))
create table TUSUARIOS (id bigint generated by default as identity (start with 1), contrasenia varchar(255), nombre varchar(255), usuario varchar(255), primary key (id))
create table TUSUARIOSPARTIDA (partida_id bigint, usuario_id bigint, primary key (partida_id, usuario_id))
alter table TPREGUNTAS_TRESPUESTAS add constraint FK9C6BA79DF91EA6BD foreign key (respuestas_id) references TRESPUESTAS
alter table TPREGUNTAS_TRESPUESTAS add constraint FK9C6BA79D6B7A9219 foreign key (TPREGUNTAS_id) references TPREGUNTAS
alter table TRANKING add constraint FK7AFB114276E97130 foreign key (PARTIDA_ID) references TPARTIDA
alter table TRANKING_TPREGUNTAS add constraint FKF67007F2C5A031C4 foreign key (TRANKING_id) references TRANKING
alter table TRANKING_TPREGUNTAS add constraint FKF67007F2CA8D67E4 foreign key (pregunta_id) references TPREGUNTAS
alter table TUSUARIOSPARTIDA add constraint FKFF16403A76E97130 foreign key (partida_id) references TPARTIDA
alter table TUSUARIOSPARTIDA add constraint FKFF16403A2AB62F50 foreign key (usuario_id) references TUSUARIOS
/*C21*/SET SCHEMA PUBLIC
alter table TPREGUNTAS_TRESPUESTAS drop constraint FK9C6BA79DF91EA6BD
alter table TPREGUNTAS_TRESPUESTAS drop constraint FK9C6BA79D6B7A9219
alter table TRANKING drop constraint FK7AFB114276E97130
alter table TRANKING_TPREGUNTAS drop constraint FKF67007F2C5A031C4
alter table TRANKING_TPREGUNTAS drop constraint FKF67007F2CA8D67E4
alter table TUSUARIOSPARTIDA drop constraint FKFF16403A76E97130
alter table TUSUARIOSPARTIDA drop constraint FKFF16403A2AB62F50
drop table TPARTIDA if exists
drop table TPREGUNTAS if exists
drop table TPREGUNTAS_TRESPUESTAS if exists
drop table TRANKING if exists
drop table TRANKING_TPREGUNTAS if exists
drop table TRESPUESTAS if exists
drop table TUSUARIOS if exists
drop table TUSUARIOSPARTIDA if exists
create table TPARTIDA (id bigint generated by default as identity (start with 1), puntuacion integer, primary key (id))
create table TPREGUNTAS (id bigint not null, categoria varchar(255), pregunta varchar(255), primary key (id))
create table TPREGUNTAS_TRESPUESTAS (TPREGUNTAS_id bigint not null, respuestas_id bigint not null, primary key (TPREGUNTAS_id, respuestas_id), unique (respuestas_id))
create table TRANKING (id bigint not null, PARTIDA_ID bigint, primary key (id))
create table TRANKING_TPREGUNTAS (TRANKING_id bigint not null, pregunta_id bigint not null, primary key (TRANKING_id, pregunta_id), unique (pregunta_id))
create table TRESPUESTAS (id bigint not null, correcta bit not null, respuesta varchar(255), primary key (id))
create table TUSUARIOS (id bigint generated by default as identity (start with 1), contrasenia varchar(255), nombre varchar(255), usuario varchar(255), primary key (id))
create table TUSUARIOSPARTIDA (partida_id bigint, usuario_id bigint, primary key (partida_id, usuario_id))
alter table TPREGUNTAS_TRESPUESTAS add constraint FK9C6BA79DF91EA6BD foreign key (respuestas_id) references TRESPUESTAS
alter table TPREGUNTAS_TRESPUESTAS add constraint FK9C6BA79D6B7A9219 foreign key (TPREGUNTAS_id) references TPREGUNTAS
alter table TRANKING add constraint FK7AFB114276E97130 foreign key (PARTIDA_ID) references TPARTIDA
alter table TRANKING_TPREGUNTAS add constraint FKF67007F2C5A031C4 foreign key (TRANKING_id) references TRANKING
alter table TRANKING_TPREGUNTAS add constraint FKF67007F2CA8D67E4 foreign key (pregunta_id) references TPREGUNTAS
alter table TUSUARIOSPARTIDA add constraint FKFF16403A76E97130 foreign key (partida_id) references TPARTIDA
alter table TUSUARIOSPARTIDA add constraint FKFF16403A2AB62F50 foreign key (usuario_id) references TUSUARIOS
DISCONNECT
/*C20*/DISCONNECT
/*C22*/SET SCHEMA PUBLIC
alter table TPREGUNTAS_TRESPUESTAS drop constraint FK9C6BA79DF91EA6BD
alter table TPREGUNTAS_TRESPUESTAS drop constraint FK9C6BA79D6B7A9219
alter table TRANKING drop constraint FK7AFB114276E97130
alter table TRANKING_TPREGUNTAS drop constraint FKF67007F2C5A031C4
alter table TRANKING_TPREGUNTAS drop constraint FKF67007F2CA8D67E4
alter table TUSUARIOSPARTIDA drop constraint FKFF16403A76E97130
alter table TUSUARIOSPARTIDA drop constraint FKFF16403A2AB62F50
drop table TPARTIDA if exists
drop table TPREGUNTAS if exists
drop table TPREGUNTAS_TRESPUESTAS if exists
drop table TRANKING if exists
drop table TRANKING_TPREGUNTAS if exists
drop table TRESPUESTAS if exists
drop table TUSUARIOS if exists
drop table TUSUARIOSPARTIDA if exists
create table TPARTIDA (id bigint generated by default as identity (start with 1), puntuacion integer, primary key (id))
create table TPREGUNTAS (id bigint not null, categoria varchar(255), pregunta varchar(255), primary key (id))
create table TPREGUNTAS_TRESPUESTAS (TPREGUNTAS_id bigint not null, respuestas_id bigint not null, primary key (TPREGUNTAS_id, respuestas_id), unique (respuestas_id))
create table TRANKING (id bigint not null, PARTIDA_ID bigint, primary key (id))
create table TRANKING_TPREGUNTAS (TRANKING_id bigint not null, pregunta_id bigint not null, primary key (TRANKING_id, pregunta_id), unique (pregunta_id))
create table TRESPUESTAS (id bigint not null, correcta bit not null, respuesta varchar(255), primary key (id))
create table TUSUARIOS (id bigint generated by default as identity (start with 1), contrasenia varchar(255), nombre varchar(255), usuario varchar(255), primary key (id))
create table TUSUARIOSPARTIDA (partida_id bigint, usuario_id bigint, primary key (partida_id, usuario_id))
alter table TPREGUNTAS_TRESPUESTAS add constraint FK9C6BA79DF91EA6BD foreign key (respuestas_id) references TRESPUESTAS
alter table TPREGUNTAS_TRESPUESTAS add constraint FK9C6BA79D6B7A9219 foreign key (TPREGUNTAS_id) references TPREGUNTAS
alter table TRANKING add constraint FK7AFB114276E97130 foreign key (PARTIDA_ID) references TPARTIDA
alter table TRANKING_TPREGUNTAS add constraint FKF67007F2C5A031C4 foreign key (TRANKING_id) references TRANKING
alter table TRANKING_TPREGUNTAS add constraint FKF67007F2CA8D67E4 foreign key (pregunta_id) references TPREGUNTAS
alter table TUSUARIOSPARTIDA add constraint FKFF16403A76E97130 foreign key (partida_id) references TPARTIDA
alter table TUSUARIOSPARTIDA add constraint FKFF16403A2AB62F50 foreign key (usuario_id) references TUSUARIOS
/*C7*/INSERT INTO TUSUARIOS VALUES(1,'usuario1','pepe','usuario1')
COMMIT
INSERT INTO TUSUARIOS VALUES(2,'usuario2','maria','usuario2')
COMMIT
/*C22*/DISCONNECT
/*C23*/SET SCHEMA PUBLIC
alter table TPREGUNTAS_TRESPUESTAS drop constraint FK9C6BA79DF91EA6BD
alter table TPREGUNTAS_TRESPUESTAS drop constraint FK9C6BA79D6B7A9219
alter table TRANKING drop constraint FK7AFB114276E97130
alter table TRANKING_TPREGUNTAS drop constraint FKF67007F2C5A031C4
alter table TRANKING_TPREGUNTAS drop constraint FKF67007F2CA8D67E4
alter table TUSUARIOSPARTIDA drop constraint FKFF16403A76E97130
alter table TUSUARIOSPARTIDA drop constraint FKFF16403A2AB62F50
drop table TPARTIDA if exists
drop table TPREGUNTAS if exists
drop table TPREGUNTAS_TRESPUESTAS if exists
drop table TRANKING if exists
drop table TRANKING_TPREGUNTAS if exists
drop table TRESPUESTAS if exists
drop table TUSUARIOS if exists
drop table TUSUARIOSPARTIDA if exists
create table TPARTIDA (id bigint generated by default as identity (start with 1), puntuacion integer, primary key (id))
create table TPREGUNTAS (id bigint not null, categoria varchar(255), pregunta varchar(255), primary key (id))
create table TPREGUNTAS_TRESPUESTAS (TPREGUNTAS_id bigint not null, respuestas_id bigint not null, primary key (TPREGUNTAS_id, respuestas_id), unique (respuestas_id))
create table TRANKING (id bigint not null, PARTIDA_ID bigint, primary key (id))
create table TRANKING_TPREGUNTAS (TRANKING_id bigint not null, pregunta_id bigint not null, primary key (TRANKING_id, pregunta_id), unique (pregunta_id))
create table TRESPUESTAS (id bigint not null, correcta bit not null, respuesta varchar(255), primary key (id))
create table TUSUARIOS (id bigint generated by default as identity (start with 1), contrasenia varchar(255), nombre varchar(255), usuario varchar(255), primary key (id))
create table TUSUARIOSPARTIDA (partida_id bigint, usuario_id bigint, primary key (partida_id, usuario_id))
alter table TPREGUNTAS_TRESPUESTAS add constraint FK9C6BA79DF91EA6BD foreign key (respuestas_id) references TRESPUESTAS
alter table TPREGUNTAS_TRESPUESTAS add constraint FK9C6BA79D6B7A9219 foreign key (TPREGUNTAS_id) references TPREGUNTAS
alter table TRANKING add constraint FK7AFB114276E97130 foreign key (PARTIDA_ID) references TPARTIDA
alter table TRANKING_TPREGUNTAS add constraint FKF67007F2C5A031C4 foreign key (TRANKING_id) references TRANKING
alter table TRANKING_TPREGUNTAS add constraint FKF67007F2CA8D67E4 foreign key (pregunta_id) references TPREGUNTAS
alter table TUSUARIOSPARTIDA add constraint FKFF16403A76E97130 foreign key (partida_id) references TPARTIDA
alter table TUSUARIOSPARTIDA add constraint FKFF16403A2AB62F50 foreign key (usuario_id) references TUSUARIOS
DISCONNECT
/*C7*/INSERT INTO TUSUARIOS VALUES(1,'usuario1','pepe','usuario1')
COMMIT
INSERT INTO TUSUARIOS VALUES(2,'usuario2','maria','usuario2')
COMMIT
/*C24*/SET SCHEMA PUBLIC
alter table TPREGUNTAS_TRESPUESTAS drop constraint FK9C6BA79DF91EA6BD
alter table TPREGUNTAS_TRESPUESTAS drop constraint FK9C6BA79D6B7A9219
alter table TRANKING drop constraint FK7AFB114276E97130
alter table TRANKING_TPREGUNTAS drop constraint FKF67007F2C5A031C4
alter table TRANKING_TPREGUNTAS drop constraint FKF67007F2CA8D67E4
alter table TUSUARIOSPARTIDA drop constraint FKFF16403A76E97130
alter table TUSUARIOSPARTIDA drop constraint FKFF16403A2AB62F50
drop table TPARTIDA if exists
drop table TPREGUNTAS if exists
drop table TPREGUNTAS_TRESPUESTAS if exists
drop table TRANKING if exists
drop table TRANKING_TPREGUNTAS if exists
drop table TRESPUESTAS if exists
drop table TUSUARIOS if exists
drop table TUSUARIOSPARTIDA if exists
create table TPARTIDA (id bigint generated by default as identity (start with 1), puntuacion integer, primary key (id))
create table TPREGUNTAS (id bigint not null, categoria varchar(255), pregunta varchar(255), primary key (id))
create table TPREGUNTAS_TRESPUESTAS (TPREGUNTAS_id bigint not null, respuestas_id bigint not null, primary key (TPREGUNTAS_id, respuestas_id), unique (respuestas_id))
create table TRANKING (id bigint not null, PARTIDA_ID bigint, primary key (id))
create table TRANKING_TPREGUNTAS (TRANKING_id bigint not null, pregunta_id bigint not null, primary key (TRANKING_id, pregunta_id), unique (pregunta_id))
create table TRESPUESTAS (id bigint not null, correcta bit not null, respuesta varchar(255), primary key (id))
create table TUSUARIOS (id bigint generated by default as identity (start with 1), contrasenia varchar(255), nombre varchar(255), usuario varchar(255), primary key (id))
create table TUSUARIOSPARTIDA (partida_id bigint, usuario_id bigint, primary key (partida_id, usuario_id))
alter table TPREGUNTAS_TRESPUESTAS add constraint FK9C6BA79DF91EA6BD foreign key (respuestas_id) references TRESPUESTAS
alter table TPREGUNTAS_TRESPUESTAS add constraint FK9C6BA79D6B7A9219 foreign key (TPREGUNTAS_id) references TPREGUNTAS
alter table TRANKING add constraint FK7AFB114276E97130 foreign key (PARTIDA_ID) references TPARTIDA
alter table TRANKING_TPREGUNTAS add constraint FKF67007F2C5A031C4 foreign key (TRANKING_id) references TRANKING
alter table TRANKING_TPREGUNTAS add constraint FKF67007F2CA8D67E4 foreign key (pregunta_id) references TPREGUNTAS
alter table TUSUARIOSPARTIDA add constraint FKFF16403A76E97130 foreign key (partida_id) references TPARTIDA
alter table TUSUARIOSPARTIDA add constraint FKFF16403A2AB62F50 foreign key (usuario_id) references TUSUARIOS
DISCONNECT
/*C7*/INSERT INTO TUSUARIOS VALUES(1,'usuario1','pepe','usuario1')
COMMIT
INSERT INTO TUSUARIOS VALUES(2,'usuario2','maria','usuario2')
COMMIT
/*C25*/SET SCHEMA PUBLIC
alter table TPREGUNTAS_TRESPUESTAS drop constraint FK9C6BA79DF91EA6BD
alter table TPREGUNTAS_TRESPUESTAS drop constraint FK9C6BA79D6B7A9219
alter table TRANKING drop constraint FK7AFB114276E97130
alter table TRANKING_TPREGUNTAS drop constraint FKF67007F2C5A031C4
alter table TRANKING_TPREGUNTAS drop constraint FKF67007F2CA8D67E4
alter table TUSUARIOSPARTIDA drop constraint FKFF16403A76E97130
alter table TUSUARIOSPARTIDA drop constraint FKFF16403A2AB62F50
drop table TPARTIDA if exists
drop table TPREGUNTAS if exists
drop table TPREGUNTAS_TRESPUESTAS if exists
drop table TRANKING if exists
drop table TRANKING_TPREGUNTAS if exists
drop table TRESPUESTAS if exists
drop table TUSUARIOS if exists
drop table TUSUARIOSPARTIDA if exists
create table TPARTIDA (id bigint generated by default as identity (start with 1), puntuacion integer, primary key (id))
create table TPREGUNTAS (id bigint not null, categoria varchar(255), pregunta varchar(255), primary key (id))
create table TPREGUNTAS_TRESPUESTAS (TPREGUNTAS_id bigint not null, respuestas_id bigint not null, primary key (TPREGUNTAS_id, respuestas_id), unique (respuestas_id))
create table TRANKING (id bigint not null, PARTIDA_ID bigint, primary key (id))
create table TRANKING_TPREGUNTAS (TRANKING_id bigint not null, pregunta_id bigint not null, primary key (TRANKING_id, pregunta_id), unique (pregunta_id))
create table TRESPUESTAS (id bigint not null, correcta bit not null, respuesta varchar(255), primary key (id))
create table TUSUARIOS (id bigint generated by default as identity (start with 1), contrasenia varchar(255), nombre varchar(255), usuario varchar(255), primary key (id))
create table TUSUARIOSPARTIDA (partida_id bigint, usuario_id bigint, primary key (partida_id, usuario_id))
alter table TPREGUNTAS_TRESPUESTAS add constraint FK9C6BA79DF91EA6BD foreign key (respuestas_id) references TRESPUESTAS
alter table TPREGUNTAS_TRESPUESTAS add constraint FK9C6BA79D6B7A9219 foreign key (TPREGUNTAS_id) references TPREGUNTAS
alter table TRANKING add constraint FK7AFB114276E97130 foreign key (PARTIDA_ID) references TPARTIDA
alter table TRANKING_TPREGUNTAS add constraint FKF67007F2C5A031C4 foreign key (TRANKING_id) references TRANKING
alter table TRANKING_TPREGUNTAS add constraint FKF67007F2CA8D67E4 foreign key (pregunta_id) references TPREGUNTAS
alter table TUSUARIOSPARTIDA add constraint FKFF16403A76E97130 foreign key (partida_id) references TPARTIDA
alter table TUSUARIOSPARTIDA add constraint FKFF16403A2AB62F50 foreign key (usuario_id) references TUSUARIOS
DISCONNECT
/*C7*/INSERT INTO TUSUARIOS VALUES(1,'usuario1','pepe','usuario1')
COMMIT
INSERT INTO TUSUARIOS VALUES(2,'usuario2','maria','usuario2')
COMMIT
/*C26*/SET SCHEMA PUBLIC
alter table TPREGUNTAS_TRESPUESTAS drop constraint FK9C6BA79DF91EA6BD
alter table TPREGUNTAS_TRESPUESTAS drop constraint FK9C6BA79D6B7A9219
alter table TRANKING drop constraint FK7AFB114276E97130
alter table TRANKING_TPREGUNTAS drop constraint FKF67007F2C5A031C4
alter table TRANKING_TPREGUNTAS drop constraint FKF67007F2CA8D67E4
alter table TUSUARIOSPARTIDA drop constraint FKFF16403A76E97130
alter table TUSUARIOSPARTIDA drop constraint FKFF16403A2AB62F50
drop table TPARTIDA if exists
drop table TPREGUNTAS if exists
drop table TPREGUNTAS_TRESPUESTAS if exists
drop table TRANKING if exists
drop table TRANKING_TPREGUNTAS if exists
drop table TRESPUESTAS if exists
drop table TUSUARIOS if exists
drop table TUSUARIOSPARTIDA if exists
create table TPARTIDA (id bigint generated by default as identity (start with 1), puntuacion integer, primary key (id))
create table TPREGUNTAS (id bigint not null, categoria varchar(255), pregunta varchar(255), primary key (id))
create table TPREGUNTAS_TRESPUESTAS (TPREGUNTAS_id bigint not null, respuestas_id bigint not null, primary key (TPREGUNTAS_id, respuestas_id), unique (respuestas_id))
create table TRANKING (id bigint not null, PARTIDA_ID bigint, primary key (id))
create table TRANKING_TPREGUNTAS (TRANKING_id bigint not null, pregunta_id bigint not null, primary key (TRANKING_id, pregunta_id), unique (pregunta_id))
create table TRESPUESTAS (id bigint not null, correcta bit not null, respuesta varchar(255), primary key (id))
create table TUSUARIOS (id bigint generated by default as identity (start with 1), contrasenia varchar(255), nombre varchar(255), usuario varchar(255), primary key (id))
create table TUSUARIOSPARTIDA (partida_id bigint, usuario_id bigint, primary key (partida_id, usuario_id))
alter table TPREGUNTAS_TRESPUESTAS add constraint FK9C6BA79DF91EA6BD foreign key (respuestas_id) references TRESPUESTAS
alter table TPREGUNTAS_TRESPUESTAS add constraint FK9C6BA79D6B7A9219 foreign key (TPREGUNTAS_id) references TPREGUNTAS
alter table TRANKING add constraint FK7AFB114276E97130 foreign key (PARTIDA_ID) references TPARTIDA
alter table TRANKING_TPREGUNTAS add constraint FKF67007F2C5A031C4 foreign key (TRANKING_id) references TRANKING
alter table TRANKING_TPREGUNTAS add constraint FKF67007F2CA8D67E4 foreign key (pregunta_id) references TPREGUNTAS
alter table TUSUARIOSPARTIDA add constraint FKFF16403A76E97130 foreign key (partida_id) references TPARTIDA
alter table TUSUARIOSPARTIDA add constraint FKFF16403A2AB62F50 foreign key (usuario_id) references TUSUARIOS
DISCONNECT
/*C7*/INSERT INTO TUSUARIOS VALUES(1,'usuario1','pepe','usuario1')
COMMIT
INSERT INTO TUSUARIOS VALUES(2,'usuario2','maria','usuario2')
COMMIT
/*C27*/SET SCHEMA PUBLIC
alter table TPREGUNTAS_TRESPUESTAS drop constraint FK9C6BA79DF91EA6BD
alter table TPREGUNTAS_TRESPUESTAS drop constraint FK9C6BA79D6B7A9219
alter table TRANKING drop constraint FK7AFB114276E97130
alter table TRANKING_TPREGUNTAS drop constraint FKF67007F2C5A031C4
alter table TRANKING_TPREGUNTAS drop constraint FKF67007F2CA8D67E4
alter table TUSUARIOSPARTIDA drop constraint FKFF16403A76E97130
alter table TUSUARIOSPARTIDA drop constraint FKFF16403A2AB62F50
drop table TPARTIDA if exists
drop table TPREGUNTAS if exists
drop table TPREGUNTAS_TRESPUESTAS if exists
drop table TRANKING if exists
drop table TRANKING_TPREGUNTAS if exists
drop table TRESPUESTAS if exists
drop table TUSUARIOS if exists
drop table TUSUARIOSPARTIDA if exists
create table TPARTIDA (id bigint generated by default as identity (start with 1), puntuacion integer, primary key (id))
create table TPREGUNTAS (id bigint not null, categoria varchar(255), pregunta varchar(255), primary key (id))
create table TPREGUNTAS_TRESPUESTAS (TPREGUNTAS_id bigint not null, respuestas_id bigint not null, primary key (TPREGUNTAS_id, respuestas_id), unique (respuestas_id))
create table TRANKING (id bigint not null, PARTIDA_ID bigint, primary key (id))
create table TRANKING_TPREGUNTAS (TRANKING_id bigint not null, pregunta_id bigint not null, primary key (TRANKING_id, pregunta_id), unique (pregunta_id))
create table TRESPUESTAS (id bigint not null, correcta bit not null, respuesta varchar(255), primary key (id))
create table TUSUARIOS (id bigint generated by default as identity (start with 1), contrasenia varchar(255), nombre varchar(255), usuario varchar(255), primary key (id))
create table TUSUARIOSPARTIDA (partida_id bigint, usuario_id bigint, primary key (partida_id, usuario_id))
alter table TPREGUNTAS_TRESPUESTAS add constraint FK9C6BA79DF91EA6BD foreign key (respuestas_id) references TRESPUESTAS
alter table TPREGUNTAS_TRESPUESTAS add constraint FK9C6BA79D6B7A9219 foreign key (TPREGUNTAS_id) references TPREGUNTAS
alter table TRANKING add constraint FK7AFB114276E97130 foreign key (PARTIDA_ID) references TPARTIDA
alter table TRANKING_TPREGUNTAS add constraint FKF67007F2C5A031C4 foreign key (TRANKING_id) references TRANKING
alter table TRANKING_TPREGUNTAS add constraint FKF67007F2CA8D67E4 foreign key (pregunta_id) references TPREGUNTAS
alter table TUSUARIOSPARTIDA add constraint FKFF16403A76E97130 foreign key (partida_id) references TPARTIDA
alter table TUSUARIOSPARTIDA add constraint FKFF16403A2AB62F50 foreign key (usuario_id) references TUSUARIOS
DISCONNECT
/*C28*/SET SCHEMA PUBLIC
alter table TPREGUNTAS_TRESPUESTAS drop constraint FK9C6BA79DF91EA6BD
alter table TPREGUNTAS_TRESPUESTAS drop constraint FK9C6BA79D6B7A9219
alter table TRANKING drop constraint FK7AFB114276E97130
alter table TRANKING_TPREGUNTAS drop constraint FKF67007F2C5A031C4
alter table TRANKING_TPREGUNTAS drop constraint FKF67007F2CA8D67E4
alter table TUSUARIOSPARTIDA drop constraint FKFF16403A76E97130
alter table TUSUARIOSPARTIDA drop constraint FKFF16403A2AB62F50
drop table TPARTIDA if exists
drop table TPREGUNTAS if exists
drop table TPREGUNTAS_TRESPUESTAS if exists
drop table TRANKING if exists
drop table TRANKING_TPREGUNTAS if exists
drop table TRESPUESTAS if exists
drop table TUSUARIOS if exists
drop table TUSUARIOSPARTIDA if exists
create table TPARTIDA (id bigint generated by default as identity (start with 1), puntuacion integer, primary key (id))
create table TPREGUNTAS (id bigint not null, categoria varchar(255), pregunta varchar(255), primary key (id))
create table TPREGUNTAS_TRESPUESTAS (TPREGUNTAS_id bigint not null, respuestas_id bigint not null, primary key (TPREGUNTAS_id, respuestas_id), unique (respuestas_id))
create table TRANKING (id bigint not null, PARTIDA_ID bigint, primary key (id))
create table TRANKING_TPREGUNTAS (TRANKING_id bigint not null, pregunta_id bigint not null, primary key (TRANKING_id, pregunta_id), unique (pregunta_id))
create table TRESPUESTAS (id bigint not null, correcta bit not null, respuesta varchar(255), primary key (id))
create table TUSUARIOS (id bigint generated by default as identity (start with 1), contrasenia varchar(255), nombre varchar(255), usuario varchar(255), primary key (id))
create table TUSUARIOSPARTIDA (partida_id bigint, usuario_id bigint, primary key (partida_id, usuario_id))
alter table TPREGUNTAS_TRESPUESTAS add constraint FK9C6BA79DF91EA6BD foreign key (respuestas_id) references TRESPUESTAS
alter table TPREGUNTAS_TRESPUESTAS add constraint FK9C6BA79D6B7A9219 foreign key (TPREGUNTAS_id) references TPREGUNTAS
alter table TRANKING add constraint FK7AFB114276E97130 foreign key (PARTIDA_ID) references TPARTIDA
alter table TRANKING_TPREGUNTAS add constraint FKF67007F2C5A031C4 foreign key (TRANKING_id) references TRANKING
alter table TRANKING_TPREGUNTAS add constraint FKF67007F2CA8D67E4 foreign key (pregunta_id) references TPREGUNTAS
alter table TUSUARIOSPARTIDA add constraint FKFF16403A76E97130 foreign key (partida_id) references TPARTIDA
alter table TUSUARIOSPARTIDA add constraint FKFF16403A2AB62F50 foreign key (usuario_id) references TUSUARIOS
DISCONNECT
/*C29*/SET SCHEMA PUBLIC
alter table TPREGUNTAS_TRESPUESTAS drop constraint FK9C6BA79DF91EA6BD
alter table TPREGUNTAS_TRESPUESTAS drop constraint FK9C6BA79D6B7A9219
alter table TRANKING drop constraint FK7AFB114276E97130
alter table TRANKING_TPREGUNTAS drop constraint FKF67007F2C5A031C4
alter table TRANKING_TPREGUNTAS drop constraint FKF67007F2CA8D67E4
alter table TUSUARIOSPARTIDA drop constraint FKFF16403A76E97130
alter table TUSUARIOSPARTIDA drop constraint FKFF16403A2AB62F50
drop table TPARTIDA if exists
drop table TPREGUNTAS if exists
drop table TPREGUNTAS_TRESPUESTAS if exists
drop table TRANKING if exists
drop table TRANKING_TPREGUNTAS if exists
drop table TRESPUESTAS if exists
drop table TUSUARIOS if exists
drop table TUSUARIOSPARTIDA if exists
create table TPARTIDA (id bigint generated by default as identity (start with 1), puntuacion integer, primary key (id))
create table TPREGUNTAS (id bigint not null, categoria varchar(255), pregunta varchar(255), primary key (id))
create table TPREGUNTAS_TRESPUESTAS (TPREGUNTAS_id bigint not null, respuestas_id bigint not null, primary key (TPREGUNTAS_id, respuestas_id), unique (respuestas_id))
create table TRANKING (id bigint not null, PARTIDA_ID bigint, primary key (id))
create table TRANKING_TPREGUNTAS (TRANKING_id bigint not null, pregunta_id bigint not null, primary key (TRANKING_id, pregunta_id), unique (pregunta_id))
create table TRESPUESTAS (id bigint not null, correcta bit not null, respuesta varchar(255), primary key (id))
create table TUSUARIOS (id bigint generated by default as identity (start with 1), contrasenia varchar(255), nombre varchar(255), usuario varchar(255), primary key (id))
create table TUSUARIOSPARTIDA (partida_id bigint, usuario_id bigint, primary key (partida_id, usuario_id))
alter table TPREGUNTAS_TRESPUESTAS add constraint FK9C6BA79DF91EA6BD foreign key (respuestas_id) references TRESPUESTAS
alter table TPREGUNTAS_TRESPUESTAS add constraint FK9C6BA79D6B7A9219 foreign key (TPREGUNTAS_id) references TPREGUNTAS
alter table TRANKING add constraint FK7AFB114276E97130 foreign key (PARTIDA_ID) references TPARTIDA
alter table TRANKING_TPREGUNTAS add constraint FKF67007F2C5A031C4 foreign key (TRANKING_id) references TRANKING
alter table TRANKING_TPREGUNTAS add constraint FKF67007F2CA8D67E4 foreign key (pregunta_id) references TPREGUNTAS
alter table TUSUARIOSPARTIDA add constraint FKFF16403A76E97130 foreign key (partida_id) references TPARTIDA
alter table TUSUARIOSPARTIDA add constraint FKFF16403A2AB62F50 foreign key (usuario_id) references TUSUARIOS
/*C7*/INSERT INTO TUSUARIOS VALUES(1,'usuario1','pepe','usuario1')
COMMIT
INSERT INTO TUSUARIOS VALUES(2,'usuario2','maria','usuario2')
COMMIT
/*C30*/SET SCHEMA PUBLIC
DISCONNECT
/*C29*/DISCONNECT
/*C31*/SET SCHEMA PUBLIC
DISCONNECT
/*C32*/SET SCHEMA PUBLIC
DISCONNECT
/*C33*/SET SCHEMA PUBLIC
DISCONNECT
/*C34*/SET SCHEMA PUBLIC
DISCONNECT
/*C36*/SET SCHEMA PUBLIC
DISCONNECT
/*C35*/SET SCHEMA PUBLIC
DISCONNECT
/*C37*/SET SCHEMA PUBLIC
DISCONNECT
/*C38*/SET SCHEMA PUBLIC
DISCONNECT
/*C39*/SET SCHEMA PUBLIC
DISCONNECT
/*C40*/SET SCHEMA PUBLIC
DISCONNECT
/*C41*/SET SCHEMA PUBLIC
DISCONNECT
/*C42*/SET SCHEMA PUBLIC
DISCONNECT
/*C43*/SET SCHEMA PUBLIC
DISCONNECT
/*C7*/DISCONNECT
