/*C3*/SET SCHEMA PUBLIC
DISCONNECT
/*C4*/SET SCHEMA PUBLIC
drop table TPARTIDA if exists
drop table TPREGUNTAS if exists
drop table TPREGUNTAS_TRESPUESTAS if exists
drop table TRANKING if exists
drop table TRANKING_TPREGUNTAS if exists
drop table TRESPUESTAS if exists
drop table TUSUARIOS if exists
drop table TUSUARIOSPARTIDA if exists
create table TPARTIDA (id bigint generated by default as identity (start with 1), puntuacion integer, primary key (id))
create table TPREGUNTAS (id bigint not null, categoria varchar(255), pregunta varchar(255), primary key (id))
create table TPREGUNTAS_TRESPUESTAS (TPREGUNTAS_id bigint not null, respuestas_id bigint not null, primary key (TPREGUNTAS_id, respuestas_id), unique (respuestas_id))
create table TRANKING (id bigint not null, PARTIDA_ID bigint, primary key (id))
create table TRANKING_TPREGUNTAS (TRANKING_id bigint not null, pregunta_id bigint not null, primary key (TRANKING_id, pregunta_id), unique (pregunta_id))
create table TRESPUESTAS (id bigint not null, correcta bit not null, respuesta varchar(255), primary key (id))
create table TUSUARIOS (id bigint generated by default as identity (start with 1), contrasenia varchar(255), nombre varchar(255), usuario varchar(255), primary key (id))
create table TUSUARIOSPARTIDA (partida_id bigint, usuario_id bigint, primary key (partida_id, usuario_id))
alter table TPREGUNTAS_TRESPUESTAS add constraint FK9C6BA79D268F372 foreign key (respuestas_id) references TRESPUESTAS
alter table TPREGUNTAS_TRESPUESTAS add constraint FK9C6BA79D74095AC4 foreign key (TPREGUNTAS_id) references TPREGUNTAS
alter table TRANKING add constraint FK7AFB11421C596725 foreign key (PARTIDA_ID) references TPARTIDA
alter table TRANKING_TPREGUNTAS add constraint FKF67007F2D31C308F foreign key (pregunta_id) references TPREGUNTAS
alter table TRANKING_TPREGUNTAS add constraint FKF67007F26B1027B9 foreign key (TRANKING_id) references TRANKING
alter table TUSUARIOSPARTIDA add constraint FKFF16403AD0262545 foreign key (usuario_id) references TUSUARIOS
alter table TUSUARIOSPARTIDA add constraint FKFF16403A1C596725 foreign key (partida_id) references TPARTIDA
DISCONNECT
/*C2*/SET SCHEMA PUBLIC
INSERT INTO TUSUARIOS VALUES(1,'usuario1','pepe','usuario1')
COMMIT
INSERT INTO TUSUARIOS VALUES(2,'usuario2','maria','usuario2')
COMMIT
DISCONNECT
